<div class="col">
  <div class="card h-100 product-card">
    <div class="position-relative">
      <% if product.image_url.present? %>
        <img src="<%= product.image_url %>" class="card-img-top" alt="<%= product.name %>">
      <% else %>
        <img src="https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=1200&q=80" class="card-img-top" alt="<%= product.name %>">
      <% end %>
      <% if (primary_category = product.categories.first) %>
        <span class="badge-category position-absolute top-0 start-0 m-3"><%= primary_category.name %></span>
      <% end %>
    </div>
    <div class="card-body d-flex flex-column gap-3">
      <div>
        <h5 class="card-title mb-1"><%= link_to product.name, product_path(product) %></h5>
        <p class="card-text mb-0"><%= truncate(product.description, length: 110) %></p>
      </div>
      <div class="mt-auto d-flex justify-content-between align-items-center">
        <span class="fw-bold text-dark"><%= number_to_currency(product.price) %></span>
        <%= button_to "Add to cart", add_to_cart_path(product), method: :post, class: "btn btn-primary" %>
      </div>
    </div>
  </div>
</div>